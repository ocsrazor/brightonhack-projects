<!DOCTYPE html>
<meta charset="utf-8">
<style>

.axis {
  font: 10px sans-serif;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
}

.axis .domain {
  fill: none;
  stroke: #000;
  stroke-opacity: .3;
  stroke-width: 10px;
  stroke-linecap: round;
}

.axis .halo {
  fill: none;
  stroke: #ddd;
  stroke-width: 8px;
  stroke-linecap: round;
}

.slider .handle {
  fill: #fff;
  stroke: #000;
  stroke-opacity: .5;
  stroke-width: 1.25px;
  pointer-events: none;
}

</style>
<body>
<svg id="svgpic" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="210mm" height="297mm" id="svg3123" version="1.1" inkscape:version="0.48.2 r9819" sodipodi:docname="New document 3">
  <defs id="defs3"/>
  <sodipodi:namedview inkscape:document-units="mm" id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="0.49497475" inkscape:cx="263.67644" inkscape:cy="703.2569" inkscape:current-layer="layer1" showgrid="false" inkscape:window-width="1156" inkscape:window-height="829" inkscape:window-x="136" inkscape:window-y="27" inkscape:window-maximized="0"/>
  <metadata id="metadata4">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1">
    <path sodipodi:type="arc" style="fill:#e3dbdb" id="path3153" sodipodi:cx="318.70312" sodipodi:cy="237.67415" sodipodi:rx="47.982246" sodipodi:ry="72.225906" d="m 366.68537,237.67415 a 47.982246,72.225906 0 1 1 -95.96449,0 47.982246,72.225906 0 1 1 95.96449,0 z"/>
    <path style="fill:#000000;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 259.19079,187.49829 c 120.20815,-3.03046 122.22845,-3.03046 122.22845,-3.03046 l -2.0203,-9.09137 -32.32488,1.01015 c 0,0 -3.23008,-80.887654 5.05076,-84.852813 18.78258,-8.993774 -89.90358,0 -89.90358,0 0,0 30.30458,84.852813 22.22336,83.842663 -8.08122,-1.01016 -30.30458,1.01015 -30.30458,1.01015 z" id="path3155" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccscscc"/>
    <path style="fill:#333333;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 289.91378,302.82899 c 0,0 -57.5787,5.05077 -63.63961,22.22336 -6.42307,18.19872 -17.1726,107.07617 -17.1726,107.07617 0,0 -6.06091,53.53808 -3.03045,59.599 3.03046,6.06091 22.22336,3.03046 22.22336,3.03046 0,0 23.23351,-124.24877 29.29442,-125.25892 6.06092,-1.01015 -14.14214,156.57364 -14.14214,156.57364 l -8.08122,93.94419 c 0,0 -8.08122,102.02541 -8.08122,108.08632 0,6.06092 38.38579,0 38.38579,0 0,0 22.22337,-199.00004 23.23352,-194.95943 1.01016,4.04061 13.13198,-7.07108 15.15228,-10e-6 2.02031,7.07107 8.08123,195.9696 8.08123,195.9696 l 33.33503,0 c 0,0 -5.05077,-359.61431 0,-361.63462 5.05076,-2.0203 14.14214,131.31983 14.14214,131.31983 0,0 21.2132,3.03047 22.22335,-1.01014 1.01016,-4.04061 9.09137,-169.70563 -2.0203,-180.81731 -9.39497,-9.39497 -37.37565,-8.08122 -37.37565,-8.08122 0,0 -26.26396,12.12183 -52.52793,-6.06092 z" id="path3157" inkscape:connector-curvature="0" sodipodi:nodetypes="cscscsccscssccscsscc"/>
    <path sodipodi:type="arc" style="fill:#000000" id="path3159" sodipodi:cx="303.04578" sodipodi:cy="215.45081" sodipodi:rx="10.101525" sodipodi:ry="9.5964489" d="m 313.1473,215.45081 a 10.101525,9.5964489 0 1 1 -20.20305,0 10.101525,9.5964489 0 1 1 20.20305,0 z" transform="matrix(1,0,0,-1.1052632,-6.0609153,458.63141)"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 229.18207,320.06286 c -2.0203,8.08123 -22.22335,177.30716 -21.2132,173.26655 1.01015,-4.04061 21.2132,-173.26655 21.2132,-173.26655 z" id="path3981" inkscape:connector-curvature="0" sodipodi:nodetypes="csc"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 235.47758,315.18542 c -22.22335,177.78685 -21.2132,179.80715 -21.2132,179.80715 7.07107,-59.93572 14.14213,-128.00173 21.2132,-179.80715 z" id="path3983" inkscape:connector-curvature="0" sodipodi:nodetypes="ccc"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 245.22197,312.80796 -23.9478,180.93987 z" id="path3985" inkscape:connector-curvature="0" sodipodi:nodetypes="ccc"/>
    <path style="fill:#e6e6e6;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 379.81736,320.00159 0,174.75639 m -10.10153,-177.78685 4.04061,178.797" id="path3991" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 356.58385,313.94067 9.09137,178.797" id="path3993" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
    <path style="fill:#ffffff;stroke:#ffffff;stroke-width:1.03468382px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 287.89348,300.3931 c 0,6.48863 23.2335,43.25758 23.2335,43.25758 l 30.30458,-34.60607 c 0,0 -36.36549,4.32576 -53.53808,-8.65151 z" id="path3995" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"/>
    <path sodipodi:type="arc" style="fill:#ffffff;stroke:#000000" id="path3997" sodipodi:cx="335.37064" sodipodi:cy="220.50156" sodipodi:rx="10.101525" sodipodi:ry="10.606602" d="m 345.47216,220.50156 a 10.101525,10.606602 0 1 1 -20.20305,0 10.101525,10.606602 0 1 1 20.20305,0 z"/>
    <path style="fill:#e6e6e6;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 255.38476,310.84893 c 0,5.05076 -28.72372,182.7397 -28.72372,182.7397" id="path4001" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
    <path style="fill:#e6e6e6;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 270.97106,309.75213 c -1.78571,0.23459 -14.41262,180.46016 -14.41262,180.46016" id="path4003" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 278.25642,308.88991 c 0,2.52538 -11.11168,178.797 -12.12183,180.8173" id="path4005" inkscape:connector-curvature="0"/>
    <path style="fill:#e6e6e6;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 285.32748,317.04292 -10.6066,172.15922" id="path4007" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:0.86009574px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 337.0729,486.3607 c 0,0 7.98462,-173.00752 7.98462,-174.42561 2.12922,0.70904 0.26615,0.35452 0,0" id="path4009" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="M 340,314.86218 328.57143,485.21932" id="path4011" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="M 418.92857,447.71932 z" id="path4013" inkscape:connector-curvature="0"/>
    <path style="fill:#e6e6e6;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="M 328.57143,329.50504 C 327.14286,336.6479 317.14286,486.6479 317.14286,486.6479" id="path4015" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 293.71428,326.6479 -10,158.57143" id="path4017" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 262.63966,311.41529 -5.05076,53.03301 -0.50507,2.0203" id="path4019" inkscape:connector-curvature="0" sodipodi:nodetypes="ccc"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 302.54069,337.67926 c -1.01016,2.0203 -10.10153,147.48227 -10.10153,147.48227" id="path4021" inkscape:connector-curvature="0"/>
    <path style="fill:#e6e6e6;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="M 319.2082,340.20464 307.59145,484.15138" id="path4023" inkscape:connector-curvature="0"/>
    <path style="fill:#000000;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 296.47977,307.37468 0.50508,11.11168 31.31473,-8.5863 -3.53554,10.10153 c 0,0 -30.30457,-15.65737 -28.28427,-12.62691 z" id="path4025" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccc"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 252.53814,494.75798 c -1.01016,2.52538 -21.71828,232.33508 -21.71828,232.33508" id="path4027" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="M 260.61936,494.75798 237.38585,726.08291" id="path4029" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="M 270.21581,494.2529 245.97214,724.56768" id="path4031" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="M 278.8021,492.2326 255.06352,724.06261" id="path4033" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 339.41126,491.72752 c 0,2.52538 2.0203,233.34524 2.0203,233.34524" id="path4035" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 331.83511,492.73767 c 0,3.53554 3.53554,232.33509 3.53554,232.33509" id="path4037" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 323.24881,491.72752 c -2.52538,2.52538 4.54569,232.84016 4.54569,232.84016" id="path4039" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 314.15744,492.73767 5.55584,232.33509" id="path4041" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 288.90363,491.72752 c -0.50508,4.04061 -27.7792,233.34524 -27.7792,233.34524" id="path4043" inkscape:connector-curvature="0"/>
    <path style="fill:#e6e6e6;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 299.00515,489.70721 c -0.50507,2.02031 -4.54568,37.88073 -4.54568,37.88073" id="path4045" inkscape:connector-curvature="0"/>
    <path style="fill:none;stroke:#e6e6e6;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 307.08637,491.22244 c -0.50507,3.03046 -3.53553,36.3655 -3.53553,36.3655" id="path4047" inkscape:connector-curvature="0"/>
    <path style="fill:#803300;stroke:#803300;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 315.67267,266.96858 c -16.16244,9.59645 -16.16244,9.09137 -16.16244,9.09137 l 3.53553,5.05076 16.66752,-9.09137 z" id="path4049" inkscape:connector-curvature="0"/>
    <path sodipodi:type="arc" style="fill:#d40000;stroke:#803300" id="path4051" sodipodi:cx="300.26785" sodipodi:cy="279.09042" sodipodi:rx="1.767767" sodipodi:ry="3.0304577" d="m 302.03562,279.09042 a 1.767767,3.0304577 0 1 1 -3.53553,0 1.767767,3.0304577 0 1 1 3.53553,0 z" inkscape:transform-center-x="2.267767"/>
    <path style="fill:#000000;stroke:#000000;stroke-width:0.90567225px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 228.1447,732.83248 c 0,0 -34.49496,14.26716 -34.49496,20.38167 0,6.11449 8.21308,18.34349 18.06879,16.30533 9.8557,-2.03817 41.06543,-8.15268 41.06543,-8.15268 0,0 18.06878,-22.41982 9.8557,-28.53432 -8.21309,-6.1145 -34.49496,0 -34.49496,0 z" id="path4055" inkscape:connector-curvature="0" sodipodi:nodetypes="csscsc"/>
    <path style="fill:#000000;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 313.14728,731.13367 c 0,0 -30.30457,30.30457 -14.14213,34.34518 16.16244,4.04062 36.36549,-6.06091 36.36549,-6.06091 0,0 14.14214,-26.26397 6.06092,-28.28427 -8.08122,-2.02031 -28.28428,0 -28.28428,0 z" id="path4057" inkscape:connector-curvature="0"/>
    <path sodipodi:type="arc" style="fill:#e3dbdb;stroke:#e3dbdb" id="path4059" sodipodi:cx="225.26402" sodipodi:cy="515.97119" sodipodi:rx="11.111678" sodipodi:ry="15.152288" d="m 236.3757,515.97119 a 11.111678,15.152288 0 1 1 -22.22336,0 11.111678,15.152288 0 1 1 22.22336,0 z" transform="translate(-8.0812199,-4.0406102)"/>
    <image y="500.98132" x="357.71582" id="image4082" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAgCAYAAAAIXrg4AAAABHNCSVQICAgIfAhkiAAAAhtJREFU SIm1lltO40AQRU+V247zJBFEIyKBNNtgEbPp2clISJCBCQbHr8Su+YgIeRKSmPvX6u46fcvV7hIz M/bIzEjjmGkUMSsKzAxE8Jyj0+vR6vVQ1X3bAe5kHyCJY17GYwywqtqaF1Uwo9Pvc3F5uRfgdp16 Mh6TxjGfmFtC4ygiSxKGoxHqeVvrtvx9JfgmaF4U/L2/3+l0DRA9Px8VfAkxYz6b8fTwsB8wy3Pi KDo6+CqkSFOmr6+7Af8eH3daPBYSPT1RleU6IEsS5vP5WcFXIW8vL+uAt8nk7NOvAlbTpFVZUmRZ LcFXIXmSLAB5moJIvYCqIkvTD0Bd6VlVtnRQc3reNSsKANGqpurZlAB5nre1OvFiHQSIMMuyCz31 5h6SAfOy7Gq99bMuJ5LqgQfjdJnhNxqRyjcBDGgEwZsGYfgtAOccOFdq2GodeldPUqPZBECDMDz5 DdgnVf0AON/H8/1aAWZGs91eAAC6/X6taWp2OrwXjwK0Op3a/qgiQncwWI4VFj3OYDhEzoSICJ1e Dz8I1gGwsOUHwVkQUaW70YStJf5qNEKdOyldorpovja+5dpIPY/haITneUc5EVWurq/xG42tua3S cb7Pj9tbGl+4gKK6WH9zs6z7rTWfdddZkhBPJuRZhqhiZogIZoZzju5gsCjJ/W7vxMx+fXpMoCyK MJlOf1pZBiZSNtvtP0EYvh7aB/z+D3wFAVcu5zF4AAAAAElFTkSuQmCC " height="32" width="24"/>
  </g>
</svg>
<script src="http://js.leapmotion.com/0.2.0/leap.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>

var leapFrame;

var margin = {top: 200, right: 50, bottom: 200, left: 50},
    width = 960 - margin.left - margin.right,
    height = 500 - margin.bottom - margin.top;

var x = d3.scale.linear()
    .domain([0, 180])
    .range([0, width])
    .clamp(true);

var brush = d3.svg.brush()
    .x(x)
    .extent([0, 0])
    .on("brush", brushed);

var svg = d3.select("body").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");



svg.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + height / 2 + ")")
    .call(d3.svg.axis()
      .scale(x)
      .orient("bottom")
      .tickFormat(function(d) { return d + "°"; })
      .tickSize(0)
      .tickPadding(12))
  .select(".domain")
  .select(function() { return this.parentNode.appendChild(this.cloneNode(true)); })
    .attr("class", "halo");

var slider = svg.append("g")
    .attr("class", "slider")
    .call(brush);

slider.selectAll(".extent,.resize")
    .remove();

slider.select(".background")
    .attr("height", height);

var handle = slider.append("circle")
    .attr("class", "handle")
    .attr("transform", "translate(0," + height / 2 + ")")
    .attr("r", 9);

slider
    .call(brush.event)
  .transition() // gratuitous intro!
    .duration(750)
    .call(brush.extent([70, 70]))
    .call(brush.event);
var banker = d3.select("#layer1");
function brushed() {
  var value = brush.extent()[0];
  //if (d3.event.sourceEvent) { // not a programmatic event
  //  value = x.invert(d3.mouse(this)[0]);
  //  brush.extent([value, value]);
  //}
  if (leapFrame) { // not a programmatic event
    if(leapFrame.pointables[0]){
    	value = leapFrame.pointables[0].tipPosition[0];
    	value = value > 0 ? value: 0; 
    	value = value > width ? width: value; 
    	brush.extent([value, value]);
    	d3.select("#layer1").attr("transform"," scale("+(value/180)+") translate("+width/2+","+0+")");
    }
  }

  handle.attr("cx", x(value));
  d3.select("body").style("background-color", d3.hsl(value, .8, .8));
}

Leap.loop(function(frame){
	leapFrame=frame;
	if (leapFrame) { // not a programmatic event
    	if(leapFrame.pointables[0]){
    		value = leapFrame.pointables[0].tipPosition[0];
    		value = value > 0 ? value: 0; 
    		value = value > width ? width: value; 

    		slider
    		.call(brush.event)
    		.call(brush.extent(value))
    		.call(brush.event);
    		d3.select("#layer1").attr("transform"," scale("+(value/180)+") translate("+width/2+","+0+")");
    	}
    }

});
</script>